\documentclass[varwidth=22em,crop]{standalone}

\usepackage{fontspec}
\usepackage{wx672minted}

\begin{document}
\begin{ccode}
while (true) {
  /* do nothing -- no free buffers */
  while (((in + 1) % BUFFER_SIZE) == out);

  produce(buffer[in]);

  in = (in + 1) % BUFFER_SIZE;
}
\end{ccode}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
